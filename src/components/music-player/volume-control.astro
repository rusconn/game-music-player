---
import type { HTMLAttributes } from "astro/types";

import ControlButton from "./control-primitives/button.astro";
import ControlIcon from "./control-primitives/icon.astro";
import ControlBar from "./control-primitives/bar.astro";

type Props = HTMLAttributes<"div">;

const { props } = Astro;
---

<volume-control {...props}>
  <ControlButton class="mute-button" disabled>
    <ControlIcon class="volume-icon" iconId="clarity--volume-up-solid" />
    <ControlIcon class="muted-icon" iconId="clarity--volume-mute-solid" hidden />
  </ControlButton>
  <ControlBar class="volume-bar" min="0" max="100" step="5" value="100" disabled />
  <span class="volume-text">100</span>
</volume-control>

<script>
  import { VolumeControlElement } from "./volume-control";

  if (!customElements.get("volume-control")) {
    customElements.define("volume-control", VolumeControlElement);
  }
</script>

<style>
  volume-control {
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }
</style>
