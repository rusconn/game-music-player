---
import PlayingBars from "./music-list/playing-bars.astro";
import LoadingCircle from "./music-list/loading-circle.astro";
---

<music-list>
  <ul>
    <template>
      <li>
        <div class="indicator">
          <PlayingBars class="playing-bars" />
          <LoadingCircle class="loading-circle" />
        </div>
        <button type="button" class="play-button">
          <span class="title"></span>
          <span class="duration"></span>
        </button>
      </li>
    </template>
  </ul>
</music-list>

<script>
  import { MusicListElement } from "./music-list";

  if (!customElements.get("music-list")) {
    customElements.define("music-list", MusicListElement);
  }
</script>

<style>
  music-list {
    padding-inline: 1.375rem;

    ul {
      list-style-type: none;

      li {
        position: relative;
        display: flex;
        block-size: 1.75rem;

        .indicator {
          position: absolute;
          left: -1.375rem;
          block-size: 1.5rem;
          aspect-ratio: 1;
        }

        .play-button {
          inline-size: 100%;
          display: flex;
          align-items: center;
          cursor: pointer;
          padding-inline: 0.375rem;
          border-radius: 0.375rem;
          border: none;

          &:hover {
            background-color: #292929;
            filter: brightness(1.25);
          }

          .title {
            inline-size: 85%;
            text-align: start;
            white-space: nowrap;
            overflow-inline: hidden;
            text-overflow: ellipsis;
          }

          .duration {
            inline-size: 15%;
            visibility: visible;
            opacity: 1;
            color: #9c9c9c;
            text-align: end;
          }
        }
      }
    }
  }
</style>
